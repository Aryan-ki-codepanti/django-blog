{% extends 'base.html' %}

{% block title %}
    Search results | iCoder
{% endblock title %}
{% block blog %} active {% endblock blog %}


{% block content %}
<style>
    .no-result{
        font-size: 1.5rem;
        font-weight: 500;
    }
</style>

<div class="container">
    <h2 class="my-5">Search results related to your query</h2>

    {% if posts|length == 0 %}
        <div class="no-result">
            <p class="mb-0"> No results found for <strong>{{ q }}</strong> </p>
            <p> Suggestions </p>
            <ul>
                <li> Try different keyword </li>
                <li> Try more general keyword </li>
                <li> Try fewer keywords </li>
            </ul>
        </div>
    {% endif %}

    {% for post in posts %}
        <div
            class="
                my-5
                row
                g-0
                border
                rounded
                overflow-hidden
                flex-md-row
                shadow-sm
                h-md-250
                position-relative
            "
        >
            <div class="col p-4 d-flex flex-column position-static">
                <strong class="d-inline-block mb-2 text-primary">By {{ post.author|capfirst }}</strong>
                <h3 class="mb-0">{{ post.title }}</h3>
                <div class="mb-1 text-muted">
                    {{ post.timeStamp }}
                </div>
                <p class="card-text mb-auto">
                    {{ post.content|truncatechars:500 }}
                </p>
                <div class="mt-3">
                    <a href="{% url 'BlogPost' post.slug %}" class="btn btn-info" role="button">Continue reading</a>
                </div> 
            </div>
        </div>
    {% endfor %}
</div>
{% endblock content %}